<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subreddit Template</title>

    <!-- bootstrap CSS for toast -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f6f7f8; /* white */
        }

        .subreddit-header {
            background-color: #0079d3; /* blue */
            color: white;
            padding: 20px;
            margin-left: 110px; /*shift left*/
        }

        .subreddit-title {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .create-post-button {
            margin-top: 10px;
        }

        .join-button {
            margin-top: 10px;
            margin-left: 30px; /* add some spacing between */
        }

        /* changine between join and joined */
        .joined {
            background-color: #28a745 !important; /* green */
            color: white !important;
        }

        .main-content {
            display: flex;
            justify-content: space-between;
            margin-left: 100px; /* shifted content area right to make room for the left sidebar */
        }

        /* for placeholder cards */
        .content-area {
            flex: 0 0 65%;
            padding: 20px;
        }

        .card {
            background-color: white;
            border: none;
            margin-bottom: 15px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        /* right most sidebar */
        .sidebar {
            flex: 0 0 30%;
            background-color: white;
            padding: 20px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-left: 20px;
            height: 400px; /*if want more in sidebar, update this*/
        }

        .sidebar h5 {
            font-weight: bold;
            color: #333; /* black */
        }

        .sidebar p {
            font-size: 0.9rem;
        }

    </style>


    <!--toast positioning-->
    <style>
        .toast-container {
            position: fixed;
            top: 70px; /*in between nav and header*/
            right: 20px;
            z-index: 1055; /* higher than nav bar, higher as in in front */
        }
    </style>

</head>
<body>

    <!-- Subreddit Header -->
    <div class="subreddit-header">
        <div class="container">
            <h1 class="subreddit-title">r/Horror</h1>

            <button class="btn btn-light create-post-button">Create Post</button>
            <button class="btn btn-light join-button" id="joinButton">Join</button>

        </div>
    </div>

    <!-- Main Content here -->
    <div class="container mt-4 main-content">

        <!-- posts area -->
        <div class="content-area">
            <!-- placeholder cards -->
            <div class="card">
                <h5>Post 1</h5>
                <p>action action action</p>
            </div>

            <div class="card">
                <h5>Post 2</h5>
                <p>Placeholder example</p>
            </div>

            <div class="card">
                <h5>Post 3</h5>
                <p>Placeholder example</p>
            </div>
        </div>

        <!-- sidebar area -->
        <div class="sidebar">
            <h5>About Community</h5>
            <p>
                Join the Horror community to chat about the scariest films that keep you on the edge of your seat.
                From chilling suspense to terrifying creatures, explore the dark side of cinema.
            </p>

            <hr>

            <h5>Rules</h5>
            <ul>
                <li>Jump scares must include a “warning: may cause nightmares” label. We don’t play here.</li>
                <li>Real fear or it didn’t happen—if it didn’t make you sleep with a night light, it might not be scarey enough.</li>
                <li>Follow general subreddit rules</li>
            </ul>

        </div>
    </div> <!-- main content ended-->


    <!-- toast container area -->
    <div class="toast-container">
        <!-- join notification -->
        <div id="toastJoin" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    You have joined the Horror subreddit!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>

        <!-- leave notification -->
        <div id="toastLeave" class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    You have left the Horror subreddit.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS for toast functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>

        var joinButton = document.getElementById("joinButton");
        var toastJoin = new bootstrap.Toast(document.getElementById("toastJoin"));
        var toastLeave = new bootstrap.Toast(document.getElementById("toastLeave"));

        //after getting join button id can add click event listener to it
        joinButton.addEventListener("click", function() {
            //toggling between join/joined
            if (joinButton.textContent === "Join") {
                joinButton.textContent = "Joined";
                joinButton.classList.add("joined"); //adds the .joined class from <style>
                showToast(true);

            } else {
                joinButton.textContent = "Join";
                joinButton.classList.remove("joined");
                showToast(false);
            }
        }); //if else stament is inside function()


        //function for showing correct notifications
        function showToast(x) {
            if (x) {
                toastJoin.show();
            } else {
                toastLeave.show();
            }
        }

    </script>

</body>
</html>
